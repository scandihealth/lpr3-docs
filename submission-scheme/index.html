<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Submission scheme - Landspatientregisteret 3 - Technical documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../css/highlight.js/idea.css" rel="stylesheet">
  <link href="../css/theme-overrides.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Submission scheme";
    var mkdocs_page_input_path = "submission-scheme.md";
    var mkdocs_page_url = "/submission-scheme/index.html";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="icon icon-home"> Landspatientregisteret 3 - Technical documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../index.html">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../definitions/index.html">Definitions</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../governance/index.html">Governace</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Documentation</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../aspects/index.html">Interface aspects and usage</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="index.html">Submission scheme</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#creating-object">Creating object</a></li>
    

    <li class="toctree-l3"><a href="#updating-objects">Updating objects</a></li>
    

    <li class="toctree-l3"><a href="#deleting-objects">Deleting objects</a></li>
    

    <li class="toctree-l3"><a href="#special-cases">Special cases</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#update-main-condition">Update main condition</a></li>
        
            <li><a class="toctree-l4" href="#update-minor-condition">Update minor condition</a></li>
        
            <li><a class="toctree-l4" href="#update-main-condition-switch-to-minor">Update main condition switch to minor</a></li>
        
            <li><a class="toctree-l4" href="#update-minor-condition-switch-to-main">Update minor condition switch to main</a></li>
        
        </ul>
    

    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Interfaces</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../interface/xdr/index.html">XDR</a>
                </li>
                <li class="">
                    
    <a class="" href="../interface/accumulated-error-list/index.html">Accumulated error list</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../testenvironment/index.html">Test environment</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../developmentresources/index.html">Development resources</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../scenarios/index.html">Scenarios</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../examples/index.html">Examples</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../faq/index.html">FAQ</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../links/index.html">Related material and links</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Landspatientregisteret 3 - Technical documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
      
        
          <li>Documentation &raquo;</li>
        
      
    
    <li>Submission scheme</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/scandihealth/lpr3-docs/edit/master/src/submission-scheme.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="creating-object">Creating object</h1>
<h1 id="updating-objects">Updating objects</h1>
<h1 id="deleting-objects">Deleting objects</h1>
<h1 id="special-cases">Special cases</h1>
<h2 id="update-main-condition">Update main condition</h2>
<p>Create an episode of care with an encounter and a main condition observation.</p>
<pre><code class="xml">&lt;hl7:ClinicalDocument xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
    xmlns:hl7=&quot;urn:hl7-org:v3&quot; xsi:schemaLocation=&quot;urn:hl7-org:v3 https://raw.githubusercontent.com/cdaapi/cdaapi_core/master/reference/CDA.xsd&quot;&gt;
    &lt;hl7:realmCode code=&quot;DK&quot;/&gt;
    &lt;hl7:typeId root=&quot;2.16.840.1.113883.1.3&quot; extension=&quot;POCD_HD000040&quot;/&gt;
    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.71&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.2&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.1&quot;/&gt;
    &lt;hl7:id root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot; extension=&quot;05D12F25-D420-46B5-BEC3-19C671404672&quot;/&gt;
    &lt;hl7:code codeSystem=&quot;2.16.840.1.113883.6.1&quot; code=&quot;34133-9&quot;/&gt;
    &lt;hl7:effectiveTime value=&quot;20180814085746+0200&quot;/&gt;
    &lt;hl7:confidentialityCode codeSystem=&quot;2.16.840.1.113883.5.25&quot; code=&quot;N&quot;/&gt;
    &lt;hl7:setId assigningAuthorityName=&quot;DXC Technology&quot; root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot;/&gt;
    &lt;hl7:versionNumber value=&quot;-731548&quot;/&gt;
    &lt;hl7:recordTarget&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.101&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.101&quot;/&gt;
        &lt;hl7:patientRole classCode=&quot;PAT&quot;&gt;
            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.106&quot;/&gt;
            &lt;hl7:id assigningAuthorityName=&quot;CPR&quot; root=&quot;1.2.208.176.1.2&quot; extension=&quot;1304621201&quot;/&gt;
        &lt;/hl7:patientRole&gt;
    &lt;/hl7:recordTarget&gt;
    &lt;hl7:author typeCode=&quot;AUT&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.102&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.102&quot;/&gt;
        &lt;hl7:time value=&quot;20180814075746+0200&quot;/&gt;
        &lt;hl7:assignedAuthor classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:id nullFlavor=&quot;NI&quot;/&gt;
            &lt;hl7:representedOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;6071000016008&quot;/&gt;
            &lt;/hl7:representedOrganization&gt;
        &lt;/hl7:assignedAuthor&gt;
    &lt;/hl7:author&gt;
    &lt;hl7:custodian typeCode=&quot;CST&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.104&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.103&quot;/&gt;
        &lt;hl7:assignedCustodian classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:representedCustodianOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id root=&quot;2.16.840.1.113883.2.24.1.1&quot; extension=&quot;25469364&quot;/&gt;
            &lt;/hl7:representedCustodianOrganization&gt;
        &lt;/hl7:assignedCustodian&gt;
    &lt;/hl7:custodian&gt;
    &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
        &lt;hl7:structuredBody&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.75&quot;/&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:encounter classCode=&quot;ENC&quot; moodCode=&quot;EVN&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.302&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.74&quot;/&gt;
                            &lt;hl7:id root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot; extension=&quot;A37ECD01-9C3B-5507-ABE3-59154CBDA852&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALCA00&quot;/&gt;
                            &lt;hl7:effectiveTime&gt;
                                &lt;hl7:low value=&quot;20180814085746+0200&quot;/&gt;
                            &lt;/hl7:effectiveTime&gt;
                            &lt;hl7:priorityCode codeSystemName=&quot;Sundhedsvæsenets Klassifikations System&quot; codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ATA1&quot;/&gt;
                            &lt;hl7:participant typeCode=&quot;RESP&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.49&quot;/&gt;
                                &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:participant typeCode=&quot;LOC&quot;&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.50&quot;/&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:time&gt;
                                    &lt;hl7:low value=&quot;20180814085746+0200&quot;/&gt;
                                &lt;/hl7:time&gt;
                                &lt;hl7:participantRole classCode=&quot;SDLOC&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.22.4&quot;/&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.48&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALCC01&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.72&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:id root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot; extension=&quot;24821928-5521-5B2A-A54D-0BF135B16FFC&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:act classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.7&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALFA2&quot;/&gt;
                                    &lt;hl7:effectiveTime&gt;
                                        &lt;hl7:low value=&quot;20180814085746+0200&quot;/&gt;
                                    &lt;/hl7:effectiveTime&gt;
                                    &lt;hl7:participant typeCode=&quot;IND&quot;&gt;
                                        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.8&quot;/&gt;
                                        &lt;hl7:participantRole classCode=&quot;PAYOR&quot;&gt;
                                            &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                                &lt;hl7:id assigningAuthorityName=&quot;Sundhedsdatastyrelsen&quot; root=&quot;1.2.208.176.2.4&quot; extension=&quot;ALFB01&quot;/&gt;
                                            &lt;/hl7:scopingEntity&gt;
                                        &lt;/hl7:participantRole&gt;
                                    &lt;/hl7:participant&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.10&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALFC4&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:encounter&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.113&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot; negationInd=&quot;false&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.36&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.45&quot;/&gt;
                            &lt;hl7:id root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot; extension=&quot;1011BE6B-072B-59C6-831E-71B9632678B6&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DO000&quot;/&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.43&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALGA01&quot;/&gt;
                                &lt;/hl7:observation&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:encounter classCode=&quot;ENC&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.77&quot;/&gt;
                                    &lt;hl7:id root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot; extension=&quot;A37ECD01-9C3B-5507-ABE3-59154CBDA852&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                &lt;/hl7:encounter&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:observation&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.95&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;EVN&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.80&quot;/&gt;
                            &lt;hl7:id root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot; extension=&quot;24821928-5521-5B2A-A54D-0BF135B16FFC&quot;/&gt;
                            &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                            &lt;hl7:effectiveTime&gt;
                                &lt;hl7:low value=&quot;20180814085746+0200&quot;/&gt;
                            &lt;/hl7:effectiveTime&gt;
                            &lt;hl7:participant typeCode=&quot;RESP&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.49&quot;/&gt;
                                &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;RQO&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.51&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                    &lt;hl7:effectiveTime value=&quot;20180814085746+0200&quot;/&gt;
                                    &lt;hl7:participant typeCode=&quot;REF&quot;&gt;
                                        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.52&quot;/&gt;
                                        &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                            &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;486811000016002&quot;/&gt;
                                            &lt;/hl7:scopingEntity&gt;
                                        &lt;/hl7:participantRole&gt;
                                    &lt;/hl7:participant&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.54&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALDA11&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.55&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DD429&quot;/&gt;
                                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.5&quot;/&gt;
                                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ZDW10&quot;/&gt;
                                                &lt;/hl7:act&gt;
                                            &lt;/hl7:entryRelationship&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.53&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALDB00&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.81&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALAL01&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:act&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
        &lt;/hl7:structuredBody&gt;
    &lt;/hl7:component&gt;
&lt;/hl7:ClinicalDocument&gt;
</code></pre>

<p>Replace it with the new data.</p>
<pre><code class="xml">&lt;hl7:ClinicalDocument xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
    xmlns:hl7=&quot;urn:hl7-org:v3&quot; xsi:schemaLocation=&quot;urn:hl7-org:v3 https://raw.githubusercontent.com/cdaapi/cdaapi_core/master/reference/CDA.xsd&quot;&gt;
    &lt;hl7:realmCode code=&quot;DK&quot;/&gt;
    &lt;hl7:typeId root=&quot;2.16.840.1.113883.1.3&quot; extension=&quot;POCD_HD000040&quot;/&gt;
    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.71&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.2&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.1&quot;/&gt;
    &lt;hl7:id root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot; extension=&quot;6071E737-EABF-4D1C-8C97-75AF79A2AF1B&quot;/&gt;
    &lt;hl7:code codeSystem=&quot;2.16.840.1.113883.6.1&quot; code=&quot;34133-9&quot;/&gt;
    &lt;hl7:effectiveTime value=&quot;20180814085746+0200&quot;/&gt;
    &lt;hl7:confidentialityCode codeSystem=&quot;2.16.840.1.113883.5.25&quot; code=&quot;N&quot;/&gt;
    &lt;hl7:setId assigningAuthorityName=&quot;DXC Technology&quot; root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot;/&gt;
    &lt;hl7:versionNumber value=&quot;-596947&quot;/&gt;
    &lt;hl7:recordTarget&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.101&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.101&quot;/&gt;
        &lt;hl7:patientRole classCode=&quot;PAT&quot;&gt;
            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.106&quot;/&gt;
            &lt;hl7:id assigningAuthorityName=&quot;CPR&quot; root=&quot;1.2.208.176.1.2&quot; extension=&quot;1304621201&quot;/&gt;
        &lt;/hl7:patientRole&gt;
    &lt;/hl7:recordTarget&gt;
    &lt;hl7:author typeCode=&quot;AUT&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.102&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.102&quot;/&gt;
        &lt;hl7:time value=&quot;20180814075746+0200&quot;/&gt;
        &lt;hl7:assignedAuthor classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:id nullFlavor=&quot;NI&quot;/&gt;
            &lt;hl7:representedOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;6071000016008&quot;/&gt;
            &lt;/hl7:representedOrganization&gt;
        &lt;/hl7:assignedAuthor&gt;
    &lt;/hl7:author&gt;
    &lt;hl7:custodian typeCode=&quot;CST&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.104&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.103&quot;/&gt;
        &lt;hl7:assignedCustodian classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:representedCustodianOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id root=&quot;2.16.840.1.113883.2.24.1.1&quot; extension=&quot;25469364&quot;/&gt;
            &lt;/hl7:representedCustodianOrganization&gt;
        &lt;/hl7:assignedCustodian&gt;
    &lt;/hl7:custodian&gt;
    &lt;hl7:relatedDocument typeCode=&quot;APND&quot;&gt;
        &lt;hl7:parentDocument classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot;&gt;
            &lt;hl7:id root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot; extension=&quot;05D12F25-D420-46B5-BEC3-19C671404672&quot;/&gt;
            &lt;hl7:setId root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot;/&gt;
            &lt;hl7:versionNumber value=&quot;-731548&quot;/&gt;
        &lt;/hl7:parentDocument&gt;
    &lt;/hl7:relatedDocument&gt;
    &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
        &lt;hl7:structuredBody&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.113&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot; negationInd=&quot;true&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.36&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.45&quot;/&gt;
                            &lt;hl7:id root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot; extension=&quot;1011BE6B-072B-59C6-831E-71B9632678B6&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DO000&quot;/&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.43&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALGA01&quot;/&gt;
                                &lt;/hl7:observation&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:reference typeCode=&quot;RPLC&quot;&gt;
                                &lt;hl7:externalObservation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.326&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.100&quot;/&gt;
                                    &lt;hl7:id root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot; extension=&quot;1011BE6B-072B-59C6-831E-71B9632678B6&quot;/&gt;
                                &lt;/hl7:externalObservation&gt;
                            &lt;/hl7:reference&gt;
                            &lt;hl7:reference typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.324&quot;/&gt;
                                &lt;hl7:externalAct classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.325&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.78&quot;/&gt;
                                    &lt;hl7:id root=&quot;5016AD8F-26A5-47A4-AB7B-EDB035B88595&quot; extension=&quot;A37ECD01-9C3B-5507-ABE3-59154CBDA852&quot;/&gt;
                                &lt;/hl7:externalAct&gt;
                            &lt;/hl7:reference&gt;
                        &lt;/hl7:observation&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
        &lt;/hl7:structuredBody&gt;
    &lt;/hl7:component&gt;
&lt;/hl7:ClinicalDocument&gt;
</code></pre>

<h2 id="update-minor-condition">Update minor condition</h2>
<p>Create an episode of care with an encounter and a minor condition</p>
<pre><code class="xml">&lt;hl7:ClinicalDocument xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
    xmlns:hl7=&quot;urn:hl7-org:v3&quot; xsi:schemaLocation=&quot;urn:hl7-org:v3 https://raw.githubusercontent.com/cdaapi/cdaapi_core/master/reference/CDA.xsd&quot;&gt;
    &lt;hl7:realmCode code=&quot;DK&quot;/&gt;
    &lt;hl7:typeId root=&quot;2.16.840.1.113883.1.3&quot; extension=&quot;POCD_HD000040&quot;/&gt;
    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.71&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.2&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.1&quot;/&gt;
    &lt;hl7:id root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot; extension=&quot;F1617307-4273-412C-82C0-CCF6DB96A370&quot;/&gt;
    &lt;hl7:code codeSystem=&quot;2.16.840.1.113883.6.1&quot; code=&quot;34133-9&quot;/&gt;
    &lt;hl7:effectiveTime value=&quot;20180814085744+0200&quot;/&gt;
    &lt;hl7:confidentialityCode codeSystem=&quot;2.16.840.1.113883.5.25&quot; code=&quot;N&quot;/&gt;
    &lt;hl7:setId assigningAuthorityName=&quot;DXC Technology&quot; root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot;/&gt;
    &lt;hl7:versionNumber value=&quot;-571219&quot;/&gt;
    &lt;hl7:recordTarget&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.101&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.101&quot;/&gt;
        &lt;hl7:patientRole classCode=&quot;PAT&quot;&gt;
            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.106&quot;/&gt;
            &lt;hl7:id assigningAuthorityName=&quot;CPR&quot; root=&quot;1.2.208.176.1.2&quot; extension=&quot;1304621201&quot;/&gt;
        &lt;/hl7:patientRole&gt;
    &lt;/hl7:recordTarget&gt;
    &lt;hl7:author typeCode=&quot;AUT&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.102&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.102&quot;/&gt;
        &lt;hl7:time value=&quot;20180814075744+0200&quot;/&gt;
        &lt;hl7:assignedAuthor classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:id nullFlavor=&quot;NI&quot;/&gt;
            &lt;hl7:representedOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;6071000016008&quot;/&gt;
            &lt;/hl7:representedOrganization&gt;
        &lt;/hl7:assignedAuthor&gt;
    &lt;/hl7:author&gt;
    &lt;hl7:custodian typeCode=&quot;CST&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.104&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.103&quot;/&gt;
        &lt;hl7:assignedCustodian classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:representedCustodianOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id root=&quot;2.16.840.1.113883.2.24.1.1&quot; extension=&quot;25469364&quot;/&gt;
            &lt;/hl7:representedCustodianOrganization&gt;
        &lt;/hl7:assignedCustodian&gt;
    &lt;/hl7:custodian&gt;
    &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
        &lt;hl7:structuredBody&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.113&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot; negationInd=&quot;false&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.36&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.46&quot;/&gt;
                            &lt;hl7:id root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot; extension=&quot;E53C1AC6-A5EC-527A-9EEC-C67358C09D99&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DA000&quot;/&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:encounter classCode=&quot;ENC&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.77&quot;/&gt;
                                    &lt;hl7:id root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot; extension=&quot;E9772494-5F67-583C-B383-5FBF3EA71217&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                &lt;/hl7:encounter&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.43&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALGA02&quot;/&gt;
                                &lt;/hl7:observation&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:observation&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.75&quot;/&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:encounter classCode=&quot;ENC&quot; moodCode=&quot;EVN&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.302&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.74&quot;/&gt;
                            &lt;hl7:id root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot; extension=&quot;E9772494-5F67-583C-B383-5FBF3EA71217&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALCA00&quot;/&gt;
                            &lt;hl7:effectiveTime&gt;
                                &lt;hl7:low value=&quot;20180814085744+0200&quot;/&gt;
                            &lt;/hl7:effectiveTime&gt;
                            &lt;hl7:priorityCode codeSystemName=&quot;Sundhedsvæsenets Klassifikations System&quot; codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ATA1&quot;/&gt;
                            &lt;hl7:participant typeCode=&quot;RESP&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.49&quot;/&gt;
                                &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:participant typeCode=&quot;LOC&quot;&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.50&quot;/&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:time&gt;
                                    &lt;hl7:low value=&quot;20180814085744+0200&quot;/&gt;
                                &lt;/hl7:time&gt;
                                &lt;hl7:participantRole classCode=&quot;SDLOC&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.22.4&quot;/&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:act classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.7&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALFA2&quot;/&gt;
                                    &lt;hl7:effectiveTime&gt;
                                        &lt;hl7:low value=&quot;20180814085744+0200&quot;/&gt;
                                    &lt;/hl7:effectiveTime&gt;
                                    &lt;hl7:participant typeCode=&quot;IND&quot;&gt;
                                        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.8&quot;/&gt;
                                        &lt;hl7:participantRole classCode=&quot;PAYOR&quot;&gt;
                                            &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                                &lt;hl7:id assigningAuthorityName=&quot;Sundhedsdatastyrelsen&quot; root=&quot;1.2.208.176.2.4&quot; extension=&quot;ALFB01&quot;/&gt;
                                            &lt;/hl7:scopingEntity&gt;
                                        &lt;/hl7:participantRole&gt;
                                    &lt;/hl7:participant&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.10&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALFC4&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.72&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:id root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot; extension=&quot;241EF3ED-B086-5497-B27D-B8C2500BED99&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.48&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALCC01&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:encounter&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.95&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;EVN&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.80&quot;/&gt;
                            &lt;hl7:id root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot; extension=&quot;241EF3ED-B086-5497-B27D-B8C2500BED99&quot;/&gt;
                            &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                            &lt;hl7:effectiveTime&gt;
                                &lt;hl7:low value=&quot;20180814085744+0200&quot;/&gt;
                            &lt;/hl7:effectiveTime&gt;
                            &lt;hl7:participant typeCode=&quot;RESP&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.49&quot;/&gt;
                                &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.81&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALAL01&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;RQO&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.51&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                    &lt;hl7:effectiveTime value=&quot;20180814085744+0200&quot;/&gt;
                                    &lt;hl7:participant typeCode=&quot;REF&quot;&gt;
                                        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.52&quot;/&gt;
                                        &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                            &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;486811000016002&quot;/&gt;
                                            &lt;/hl7:scopingEntity&gt;
                                        &lt;/hl7:participantRole&gt;
                                    &lt;/hl7:participant&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.54&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALDA11&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.53&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALDB00&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.55&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DD429&quot;/&gt;
                                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.5&quot;/&gt;
                                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ZDW10&quot;/&gt;
                                                &lt;/hl7:act&gt;
                                            &lt;/hl7:entryRelationship&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:act&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
        &lt;/hl7:structuredBody&gt;
    &lt;/hl7:component&gt;
&lt;/hl7:ClinicalDocument&gt;
</code></pre>

<p>Replace it with the new data</p>
<pre><code class="xml">&lt;hl7:ClinicalDocument xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
    xmlns:hl7=&quot;urn:hl7-org:v3&quot; xsi:schemaLocation=&quot;urn:hl7-org:v3 https://raw.githubusercontent.com/cdaapi/cdaapi_core/master/reference/CDA.xsd&quot;&gt;
    &lt;hl7:realmCode code=&quot;DK&quot;/&gt;
    &lt;hl7:typeId root=&quot;2.16.840.1.113883.1.3&quot; extension=&quot;POCD_HD000040&quot;/&gt;
    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.71&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.2&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.1&quot;/&gt;
    &lt;hl7:id root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot; extension=&quot;F22E9967-C93A-4E37-9CEC-17D540BD07DD&quot;/&gt;
    &lt;hl7:code codeSystem=&quot;2.16.840.1.113883.6.1&quot; code=&quot;34133-9&quot;/&gt;
    &lt;hl7:effectiveTime value=&quot;20180814085744+0200&quot;/&gt;
    &lt;hl7:confidentialityCode codeSystem=&quot;2.16.840.1.113883.5.25&quot; code=&quot;N&quot;/&gt;
    &lt;hl7:setId assigningAuthorityName=&quot;DXC Technology&quot; root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot;/&gt;
    &lt;hl7:versionNumber value=&quot;408263&quot;/&gt;
    &lt;hl7:recordTarget&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.101&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.101&quot;/&gt;
        &lt;hl7:patientRole classCode=&quot;PAT&quot;&gt;
            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.106&quot;/&gt;
            &lt;hl7:id assigningAuthorityName=&quot;CPR&quot; root=&quot;1.2.208.176.1.2&quot; extension=&quot;1304621201&quot;/&gt;
        &lt;/hl7:patientRole&gt;
    &lt;/hl7:recordTarget&gt;
    &lt;hl7:author typeCode=&quot;AUT&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.102&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.102&quot;/&gt;
        &lt;hl7:time value=&quot;20180814075744+0200&quot;/&gt;
        &lt;hl7:assignedAuthor classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:id nullFlavor=&quot;NI&quot;/&gt;
            &lt;hl7:representedOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;6071000016008&quot;/&gt;
            &lt;/hl7:representedOrganization&gt;
        &lt;/hl7:assignedAuthor&gt;
    &lt;/hl7:author&gt;
    &lt;hl7:custodian typeCode=&quot;CST&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.104&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.103&quot;/&gt;
        &lt;hl7:assignedCustodian classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:representedCustodianOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id root=&quot;2.16.840.1.113883.2.24.1.1&quot; extension=&quot;25469364&quot;/&gt;
            &lt;/hl7:representedCustodianOrganization&gt;
        &lt;/hl7:assignedCustodian&gt;
    &lt;/hl7:custodian&gt;
    &lt;hl7:relatedDocument typeCode=&quot;APND&quot;&gt;
        &lt;hl7:parentDocument classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot;&gt;
            &lt;hl7:id root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot; extension=&quot;F1617307-4273-412C-82C0-CCF6DB96A370&quot;/&gt;
            &lt;hl7:setId root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot;/&gt;
            &lt;hl7:versionNumber value=&quot;-571219&quot;/&gt;
        &lt;/hl7:parentDocument&gt;
    &lt;/hl7:relatedDocument&gt;
    &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
        &lt;hl7:structuredBody&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.113&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot; negationInd=&quot;true&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.36&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.46&quot;/&gt;
                            &lt;hl7:id root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot; extension=&quot;E53C1AC6-A5EC-527A-9EEC-C67358C09D99&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DA000&quot;/&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.43&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALGA02&quot;/&gt;
                                &lt;/hl7:observation&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:reference typeCode=&quot;RPLC&quot;&gt;
                                &lt;hl7:externalObservation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.326&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.100&quot;/&gt;
                                    &lt;hl7:id root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot; extension=&quot;E53C1AC6-A5EC-527A-9EEC-C67358C09D99&quot;/&gt;
                                &lt;/hl7:externalObservation&gt;
                            &lt;/hl7:reference&gt;
                            &lt;hl7:reference typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.324&quot;/&gt;
                                &lt;hl7:externalAct classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.325&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.78&quot;/&gt;
                                    &lt;hl7:id root=&quot;E2A1742C-F9BF-47DB-B922-3B8EBBFCB859&quot; extension=&quot;E9772494-5F67-583C-B383-5FBF3EA71217&quot;/&gt;
                                &lt;/hl7:externalAct&gt;
                            &lt;/hl7:reference&gt;
                        &lt;/hl7:observation&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
        &lt;/hl7:structuredBody&gt;
    &lt;/hl7:component&gt;
&lt;/hl7:ClinicalDocument&gt;
</code></pre>

<h2 id="update-main-condition-switch-to-minor">Update main condition switch to minor</h2>
<p>Create an episode of care with an encounter and a main condition</p>
<pre><code class="xml">&lt;hl7:ClinicalDocument xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
    xmlns:hl7=&quot;urn:hl7-org:v3&quot; xsi:schemaLocation=&quot;urn:hl7-org:v3 https://raw.githubusercontent.com/cdaapi/cdaapi_core/master/reference/CDA.xsd&quot;&gt;
    &lt;hl7:realmCode code=&quot;DK&quot;/&gt;
    &lt;hl7:typeId root=&quot;2.16.840.1.113883.1.3&quot; extension=&quot;POCD_HD000040&quot;/&gt;
    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.71&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.2&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.1&quot;/&gt;
    &lt;hl7:id root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot; extension=&quot;0A3E9113-36E0-47E8-A876-2958E1D3518A&quot;/&gt;
    &lt;hl7:code codeSystem=&quot;2.16.840.1.113883.6.1&quot; code=&quot;34133-9&quot;/&gt;
    &lt;hl7:effectiveTime value=&quot;20180814085748+0200&quot;/&gt;
    &lt;hl7:confidentialityCode codeSystem=&quot;2.16.840.1.113883.5.25&quot; code=&quot;N&quot;/&gt;
    &lt;hl7:setId assigningAuthorityName=&quot;DXC Technology&quot; root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot;/&gt;
    &lt;hl7:versionNumber value=&quot;-730876&quot;/&gt;
    &lt;hl7:recordTarget&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.101&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.101&quot;/&gt;
        &lt;hl7:patientRole classCode=&quot;PAT&quot;&gt;
            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.106&quot;/&gt;
            &lt;hl7:id assigningAuthorityName=&quot;CPR&quot; root=&quot;1.2.208.176.1.2&quot; extension=&quot;1304621201&quot;/&gt;
        &lt;/hl7:patientRole&gt;
    &lt;/hl7:recordTarget&gt;
    &lt;hl7:author typeCode=&quot;AUT&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.102&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.102&quot;/&gt;
        &lt;hl7:time value=&quot;20180814075748+0200&quot;/&gt;
        &lt;hl7:assignedAuthor classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:id nullFlavor=&quot;NI&quot;/&gt;
            &lt;hl7:representedOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;6071000016008&quot;/&gt;
            &lt;/hl7:representedOrganization&gt;
        &lt;/hl7:assignedAuthor&gt;
    &lt;/hl7:author&gt;
    &lt;hl7:custodian typeCode=&quot;CST&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.104&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.103&quot;/&gt;
        &lt;hl7:assignedCustodian classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:representedCustodianOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id root=&quot;2.16.840.1.113883.2.24.1.1&quot; extension=&quot;25469364&quot;/&gt;
            &lt;/hl7:representedCustodianOrganization&gt;
        &lt;/hl7:assignedCustodian&gt;
    &lt;/hl7:custodian&gt;
    &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
        &lt;hl7:structuredBody&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.113&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot; negationInd=&quot;false&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.36&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.45&quot;/&gt;
                            &lt;hl7:id root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot; extension=&quot;7C832BBB-FC9B-5803-BFE6-E887474FA7F6&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DO000&quot;/&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:encounter classCode=&quot;ENC&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.77&quot;/&gt;
                                    &lt;hl7:id root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot; extension=&quot;11BA6EF4-4375-5C73-9757-B6F8C55DAA0F&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                &lt;/hl7:encounter&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.43&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALGA01&quot;/&gt;
                                &lt;/hl7:observation&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:observation&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.75&quot;/&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:encounter classCode=&quot;ENC&quot; moodCode=&quot;EVN&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.302&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.74&quot;/&gt;
                            &lt;hl7:id root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot; extension=&quot;11BA6EF4-4375-5C73-9757-B6F8C55DAA0F&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALCA00&quot;/&gt;
                            &lt;hl7:effectiveTime&gt;
                                &lt;hl7:low value=&quot;20180814085748+0200&quot;/&gt;
                            &lt;/hl7:effectiveTime&gt;
                            &lt;hl7:priorityCode codeSystemName=&quot;Sundhedsvæsenets Klassifikations System&quot; codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ATA1&quot;/&gt;
                            &lt;hl7:participant typeCode=&quot;RESP&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.49&quot;/&gt;
                                &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:participant typeCode=&quot;LOC&quot;&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.50&quot;/&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:time&gt;
                                    &lt;hl7:low value=&quot;20180814085748+0200&quot;/&gt;
                                &lt;/hl7:time&gt;
                                &lt;hl7:participantRole classCode=&quot;SDLOC&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.22.4&quot;/&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.48&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALCC01&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.72&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:id root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot; extension=&quot;C707318E-6BFF-5BFE-909C-BC9EC492CB47&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:act classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.7&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALFA2&quot;/&gt;
                                    &lt;hl7:effectiveTime&gt;
                                        &lt;hl7:low value=&quot;20180814085748+0200&quot;/&gt;
                                    &lt;/hl7:effectiveTime&gt;
                                    &lt;hl7:participant typeCode=&quot;IND&quot;&gt;
                                        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.8&quot;/&gt;
                                        &lt;hl7:participantRole classCode=&quot;PAYOR&quot;&gt;
                                            &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                                &lt;hl7:id assigningAuthorityName=&quot;Sundhedsdatastyrelsen&quot; root=&quot;1.2.208.176.2.4&quot; extension=&quot;ALFB01&quot;/&gt;
                                            &lt;/hl7:scopingEntity&gt;
                                        &lt;/hl7:participantRole&gt;
                                    &lt;/hl7:participant&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.10&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALFC4&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:encounter&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.95&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;EVN&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.80&quot;/&gt;
                            &lt;hl7:id root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot; extension=&quot;C707318E-6BFF-5BFE-909C-BC9EC492CB47&quot;/&gt;
                            &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                            &lt;hl7:effectiveTime&gt;
                                &lt;hl7:low value=&quot;20180814085748+0200&quot;/&gt;
                            &lt;/hl7:effectiveTime&gt;
                            &lt;hl7:participant typeCode=&quot;RESP&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.49&quot;/&gt;
                                &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;RQO&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.51&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                    &lt;hl7:effectiveTime value=&quot;20180814085748+0200&quot;/&gt;
                                    &lt;hl7:participant typeCode=&quot;REF&quot;&gt;
                                        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.52&quot;/&gt;
                                        &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                            &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;486811000016002&quot;/&gt;
                                            &lt;/hl7:scopingEntity&gt;
                                        &lt;/hl7:participantRole&gt;
                                    &lt;/hl7:participant&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.55&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DD429&quot;/&gt;
                                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.5&quot;/&gt;
                                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ZDW10&quot;/&gt;
                                                &lt;/hl7:act&gt;
                                            &lt;/hl7:entryRelationship&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.54&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALDA11&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.53&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALDB00&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.81&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALAL01&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:act&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
        &lt;/hl7:structuredBody&gt;
    &lt;/hl7:component&gt;
&lt;/hl7:ClinicalDocument&gt;
</code></pre>

<p>Replace it with the new data using the minor condition template</p>
<pre><code class="xml">&lt;hl7:ClinicalDocument xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
    xmlns:hl7=&quot;urn:hl7-org:v3&quot; xsi:schemaLocation=&quot;urn:hl7-org:v3 https://raw.githubusercontent.com/cdaapi/cdaapi_core/master/reference/CDA.xsd&quot;&gt;
    &lt;hl7:realmCode code=&quot;DK&quot;/&gt;
    &lt;hl7:typeId root=&quot;2.16.840.1.113883.1.3&quot; extension=&quot;POCD_HD000040&quot;/&gt;
    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.71&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.2&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.1&quot;/&gt;
    &lt;hl7:id root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot; extension=&quot;1A482AFA-F261-41D7-9FB2-0D5CC38494BD&quot;/&gt;
    &lt;hl7:code codeSystem=&quot;2.16.840.1.113883.6.1&quot; code=&quot;34133-9&quot;/&gt;
    &lt;hl7:effectiveTime value=&quot;20180814085748+0200&quot;/&gt;
    &lt;hl7:confidentialityCode codeSystem=&quot;2.16.840.1.113883.5.25&quot; code=&quot;N&quot;/&gt;
    &lt;hl7:setId assigningAuthorityName=&quot;DXC Technology&quot; root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot;/&gt;
    &lt;hl7:versionNumber value=&quot;-229094&quot;/&gt;
    &lt;hl7:recordTarget&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.101&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.101&quot;/&gt;
        &lt;hl7:patientRole classCode=&quot;PAT&quot;&gt;
            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.106&quot;/&gt;
            &lt;hl7:id assigningAuthorityName=&quot;CPR&quot; root=&quot;1.2.208.176.1.2&quot; extension=&quot;1304621201&quot;/&gt;
        &lt;/hl7:patientRole&gt;
    &lt;/hl7:recordTarget&gt;
    &lt;hl7:author typeCode=&quot;AUT&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.102&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.102&quot;/&gt;
        &lt;hl7:time value=&quot;20180814075748+0200&quot;/&gt;
        &lt;hl7:assignedAuthor classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:id nullFlavor=&quot;NI&quot;/&gt;
            &lt;hl7:representedOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;6071000016008&quot;/&gt;
            &lt;/hl7:representedOrganization&gt;
        &lt;/hl7:assignedAuthor&gt;
    &lt;/hl7:author&gt;
    &lt;hl7:custodian typeCode=&quot;CST&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.104&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.103&quot;/&gt;
        &lt;hl7:assignedCustodian classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:representedCustodianOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id root=&quot;2.16.840.1.113883.2.24.1.1&quot; extension=&quot;25469364&quot;/&gt;
            &lt;/hl7:representedCustodianOrganization&gt;
        &lt;/hl7:assignedCustodian&gt;
    &lt;/hl7:custodian&gt;
    &lt;hl7:relatedDocument typeCode=&quot;APND&quot;&gt;
        &lt;hl7:parentDocument classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot;&gt;
            &lt;hl7:id root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot; extension=&quot;0A3E9113-36E0-47E8-A876-2958E1D3518A&quot;/&gt;
            &lt;hl7:setId root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot;/&gt;
            &lt;hl7:versionNumber value=&quot;-730876&quot;/&gt;
        &lt;/hl7:parentDocument&gt;
    &lt;/hl7:relatedDocument&gt;
    &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
        &lt;hl7:structuredBody&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.113&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot; negationInd=&quot;false&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.36&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.46&quot;/&gt;
                            &lt;hl7:id root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot; extension=&quot;7C832BBB-FC9B-5803-BFE6-E887474FA7F6&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DA000&quot;/&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.43&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALGA02&quot;/&gt;
                                &lt;/hl7:observation&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:reference typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.324&quot;/&gt;
                                &lt;hl7:externalAct classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.325&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.78&quot;/&gt;
                                    &lt;hl7:id root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot; extension=&quot;11BA6EF4-4375-5C73-9757-B6F8C55DAA0F&quot;/&gt;
                                &lt;/hl7:externalAct&gt;
                            &lt;/hl7:reference&gt;
                            &lt;hl7:reference typeCode=&quot;RPLC&quot;&gt;
                                &lt;hl7:externalObservation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.326&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.100&quot;/&gt;
                                    &lt;hl7:id root=&quot;8BF23D6D-72FD-4B5F-B44F-1BAAC2F51FDB&quot; extension=&quot;7C832BBB-FC9B-5803-BFE6-E887474FA7F6&quot;/&gt;
                                &lt;/hl7:externalObservation&gt;
                            &lt;/hl7:reference&gt;
                        &lt;/hl7:observation&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
        &lt;/hl7:structuredBody&gt;
    &lt;/hl7:component&gt;
&lt;/hl7:ClinicalDocument&gt;
</code></pre>

<h2 id="update-minor-condition-switch-to-main">Update minor condition switch to main</h2>
<p>In order update a minor condition and switch it to a main condition, one has to deal with any existing main condition, as the model only allow one main condition per encounter.</p>
<h3 id="no-existing-main-condition">No existing main condition</h3>
<p>Create an episode of care with an encounter and a minor condition</p>
<pre><code class="xml">&lt;hl7:ClinicalDocument xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
    xmlns:hl7=&quot;urn:hl7-org:v3&quot; xsi:schemaLocation=&quot;urn:hl7-org:v3 https://raw.githubusercontent.com/cdaapi/cdaapi_core/master/reference/CDA.xsd&quot;&gt;
    &lt;hl7:realmCode code=&quot;DK&quot;/&gt;
    &lt;hl7:typeId root=&quot;2.16.840.1.113883.1.3&quot; extension=&quot;POCD_HD000040&quot;/&gt;
    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.71&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.2&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.1&quot;/&gt;
    &lt;hl7:id root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot; extension=&quot;FA1CCB91-B40F-4E26-B2F3-DDAA0A8F366A&quot;/&gt;
    &lt;hl7:code codeSystem=&quot;2.16.840.1.113883.6.1&quot; code=&quot;34133-9&quot;/&gt;
    &lt;hl7:effectiveTime value=&quot;20180814085745+0200&quot;/&gt;
    &lt;hl7:confidentialityCode codeSystem=&quot;2.16.840.1.113883.5.25&quot; code=&quot;N&quot;/&gt;
    &lt;hl7:setId assigningAuthorityName=&quot;DXC Technology&quot; root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot;/&gt;
    &lt;hl7:versionNumber value=&quot;-377002&quot;/&gt;
    &lt;hl7:recordTarget&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.101&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.101&quot;/&gt;
        &lt;hl7:patientRole classCode=&quot;PAT&quot;&gt;
            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.106&quot;/&gt;
            &lt;hl7:id assigningAuthorityName=&quot;CPR&quot; root=&quot;1.2.208.176.1.2&quot; extension=&quot;1304621201&quot;/&gt;
        &lt;/hl7:patientRole&gt;
    &lt;/hl7:recordTarget&gt;
    &lt;hl7:author typeCode=&quot;AUT&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.102&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.102&quot;/&gt;
        &lt;hl7:time value=&quot;20180814075745+0200&quot;/&gt;
        &lt;hl7:assignedAuthor classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:id nullFlavor=&quot;NI&quot;/&gt;
            &lt;hl7:representedOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;6071000016008&quot;/&gt;
            &lt;/hl7:representedOrganization&gt;
        &lt;/hl7:assignedAuthor&gt;
    &lt;/hl7:author&gt;
    &lt;hl7:custodian typeCode=&quot;CST&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.104&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.103&quot;/&gt;
        &lt;hl7:assignedCustodian classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:representedCustodianOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id root=&quot;2.16.840.1.113883.2.24.1.1&quot; extension=&quot;25469364&quot;/&gt;
            &lt;/hl7:representedCustodianOrganization&gt;
        &lt;/hl7:assignedCustodian&gt;
    &lt;/hl7:custodian&gt;
    &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
        &lt;hl7:structuredBody&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.95&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;EVN&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.80&quot;/&gt;
                            &lt;hl7:id root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot; extension=&quot;E593F3EF-80BF-5B2C-80AF-A36B8E62967C&quot;/&gt;
                            &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                            &lt;hl7:effectiveTime&gt;
                                &lt;hl7:low value=&quot;20180814085745+0200&quot;/&gt;
                            &lt;/hl7:effectiveTime&gt;
                            &lt;hl7:participant typeCode=&quot;RESP&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.49&quot;/&gt;
                                &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;RQO&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.51&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                    &lt;hl7:effectiveTime value=&quot;20180814085745+0200&quot;/&gt;
                                    &lt;hl7:participant typeCode=&quot;REF&quot;&gt;
                                        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.52&quot;/&gt;
                                        &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                            &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;486811000016002&quot;/&gt;
                                            &lt;/hl7:scopingEntity&gt;
                                        &lt;/hl7:participantRole&gt;
                                    &lt;/hl7:participant&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.54&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALDA11&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.53&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALDB00&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.55&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DD429&quot;/&gt;
                                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.5&quot;/&gt;
                                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ZDW10&quot;/&gt;
                                                &lt;/hl7:act&gt;
                                            &lt;/hl7:entryRelationship&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.81&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALAL01&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:act&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.75&quot;/&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:encounter classCode=&quot;ENC&quot; moodCode=&quot;EVN&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.302&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.74&quot;/&gt;
                            &lt;hl7:id root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot; extension=&quot;9F164F8D-9069-5D8F-8C90-0217691DC3B3&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALCA00&quot;/&gt;
                            &lt;hl7:effectiveTime&gt;
                                &lt;hl7:low value=&quot;20180814085745+0200&quot;/&gt;
                            &lt;/hl7:effectiveTime&gt;
                            &lt;hl7:priorityCode codeSystemName=&quot;Sundhedsvæsenets Klassifikations System&quot; codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ATA1&quot;/&gt;
                            &lt;hl7:participant typeCode=&quot;RESP&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.49&quot;/&gt;
                                &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:participant typeCode=&quot;LOC&quot;&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.50&quot;/&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:time&gt;
                                    &lt;hl7:low value=&quot;20180814085745+0200&quot;/&gt;
                                &lt;/hl7:time&gt;
                                &lt;hl7:participantRole classCode=&quot;SDLOC&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.22.4&quot;/&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.48&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALCC01&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:act classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.7&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALFA2&quot;/&gt;
                                    &lt;hl7:effectiveTime&gt;
                                        &lt;hl7:low value=&quot;20180814085745+0200&quot;/&gt;
                                    &lt;/hl7:effectiveTime&gt;
                                    &lt;hl7:participant typeCode=&quot;IND&quot;&gt;
                                        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.8&quot;/&gt;
                                        &lt;hl7:participantRole classCode=&quot;PAYOR&quot;&gt;
                                            &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                                &lt;hl7:id assigningAuthorityName=&quot;Sundhedsdatastyrelsen&quot; root=&quot;1.2.208.176.2.4&quot; extension=&quot;ALFB01&quot;/&gt;
                                            &lt;/hl7:scopingEntity&gt;
                                        &lt;/hl7:participantRole&gt;
                                    &lt;/hl7:participant&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.10&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALFC4&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.72&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:id root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot; extension=&quot;E593F3EF-80BF-5B2C-80AF-A36B8E62967C&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:encounter&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.113&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot; negationInd=&quot;false&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.36&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.46&quot;/&gt;
                            &lt;hl7:id root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot; extension=&quot;A2CAB2DB-2546-5A8B-83E4-8825049734D9&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DA000&quot;/&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.43&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALGA02&quot;/&gt;
                                &lt;/hl7:observation&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:encounter classCode=&quot;ENC&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.77&quot;/&gt;
                                    &lt;hl7:id root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot; extension=&quot;9F164F8D-9069-5D8F-8C90-0217691DC3B3&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                &lt;/hl7:encounter&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:observation&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
        &lt;/hl7:structuredBody&gt;
    &lt;/hl7:component&gt;
&lt;/hl7:ClinicalDocument&gt;
</code></pre>

<p>Replace it with the new data using the main condition template</p>
<pre><code class="xml">&lt;hl7:ClinicalDocument xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
    xmlns:hl7=&quot;urn:hl7-org:v3&quot; xsi:schemaLocation=&quot;urn:hl7-org:v3 https://raw.githubusercontent.com/cdaapi/cdaapi_core/master/reference/CDA.xsd&quot;&gt;
    &lt;hl7:realmCode code=&quot;DK&quot;/&gt;
    &lt;hl7:typeId root=&quot;2.16.840.1.113883.1.3&quot; extension=&quot;POCD_HD000040&quot;/&gt;
    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.71&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.2&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.1&quot;/&gt;
    &lt;hl7:id root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot; extension=&quot;46E10ECC-B94D-4FE5-8BBD-B2B2E761DDEB&quot;/&gt;
    &lt;hl7:code codeSystem=&quot;2.16.840.1.113883.6.1&quot; code=&quot;34133-9&quot;/&gt;
    &lt;hl7:effectiveTime value=&quot;20180814085745+0200&quot;/&gt;
    &lt;hl7:confidentialityCode codeSystem=&quot;2.16.840.1.113883.5.25&quot; code=&quot;N&quot;/&gt;
    &lt;hl7:setId assigningAuthorityName=&quot;DXC Technology&quot; root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot;/&gt;
    &lt;hl7:versionNumber value=&quot;454981&quot;/&gt;
    &lt;hl7:recordTarget&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.101&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.101&quot;/&gt;
        &lt;hl7:patientRole classCode=&quot;PAT&quot;&gt;
            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.106&quot;/&gt;
            &lt;hl7:id assigningAuthorityName=&quot;CPR&quot; root=&quot;1.2.208.176.1.2&quot; extension=&quot;1304621201&quot;/&gt;
        &lt;/hl7:patientRole&gt;
    &lt;/hl7:recordTarget&gt;
    &lt;hl7:author typeCode=&quot;AUT&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.102&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.102&quot;/&gt;
        &lt;hl7:time value=&quot;20180814075745+0200&quot;/&gt;
        &lt;hl7:assignedAuthor classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:id nullFlavor=&quot;NI&quot;/&gt;
            &lt;hl7:representedOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;6071000016008&quot;/&gt;
            &lt;/hl7:representedOrganization&gt;
        &lt;/hl7:assignedAuthor&gt;
    &lt;/hl7:author&gt;
    &lt;hl7:custodian typeCode=&quot;CST&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.104&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.103&quot;/&gt;
        &lt;hl7:assignedCustodian classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:representedCustodianOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id root=&quot;2.16.840.1.113883.2.24.1.1&quot; extension=&quot;25469364&quot;/&gt;
            &lt;/hl7:representedCustodianOrganization&gt;
        &lt;/hl7:assignedCustodian&gt;
    &lt;/hl7:custodian&gt;
    &lt;hl7:relatedDocument typeCode=&quot;APND&quot;&gt;
        &lt;hl7:parentDocument classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot;&gt;
            &lt;hl7:id root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot; extension=&quot;FA1CCB91-B40F-4E26-B2F3-DDAA0A8F366A&quot;/&gt;
            &lt;hl7:setId root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot;/&gt;
            &lt;hl7:versionNumber value=&quot;-377002&quot;/&gt;
        &lt;/hl7:parentDocument&gt;
    &lt;/hl7:relatedDocument&gt;
    &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
        &lt;hl7:structuredBody&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.113&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot; negationInd=&quot;false&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.36&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.45&quot;/&gt;
                            &lt;hl7:id root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot; extension=&quot;A2CAB2DB-2546-5A8B-83E4-8825049734D9&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DO000&quot;/&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.43&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALGA01&quot;/&gt;
                                &lt;/hl7:observation&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:reference typeCode=&quot;RPLC&quot;&gt;
                                &lt;hl7:externalObservation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.326&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.100&quot;/&gt;
                                    &lt;hl7:id root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot; extension=&quot;A2CAB2DB-2546-5A8B-83E4-8825049734D9&quot;/&gt;
                                &lt;/hl7:externalObservation&gt;
                            &lt;/hl7:reference&gt;
                            &lt;hl7:reference typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.324&quot;/&gt;
                                &lt;hl7:externalAct classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.325&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.78&quot;/&gt;
                                    &lt;hl7:id root=&quot;65154A18-95A4-433C-8240-9CB7B3D6B051&quot; extension=&quot;9F164F8D-9069-5D8F-8C90-0217691DC3B3&quot;/&gt;
                                &lt;/hl7:externalAct&gt;
                            &lt;/hl7:reference&gt;
                        &lt;/hl7:observation&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
        &lt;/hl7:structuredBody&gt;
    &lt;/hl7:component&gt;
&lt;/hl7:ClinicalDocument&gt;
</code></pre>

<h3 id="main-condition-exists">Main condition exists</h3>
<p>Create an episode of care with an encounter and a minor and a main condition</p>
<pre><code class="xml">&lt;hl7:ClinicalDocument xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
    xmlns:hl7=&quot;urn:hl7-org:v3&quot; xsi:schemaLocation=&quot;urn:hl7-org:v3 https://raw.githubusercontent.com/cdaapi/cdaapi_core/master/reference/CDA.xsd&quot;&gt;
    &lt;hl7:realmCode code=&quot;DK&quot;/&gt;
    &lt;hl7:typeId root=&quot;2.16.840.1.113883.1.3&quot; extension=&quot;POCD_HD000040&quot;/&gt;
    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.71&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.2&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.1&quot;/&gt;
    &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;6A3D9FF8-AEFF-4497-90A3-C2B3BC06F08B&quot;/&gt;
    &lt;hl7:code codeSystem=&quot;2.16.840.1.113883.6.1&quot; code=&quot;34133-9&quot;/&gt;
    &lt;hl7:effectiveTime value=&quot;20180814085705+0200&quot;/&gt;
    &lt;hl7:confidentialityCode codeSystem=&quot;2.16.840.1.113883.5.25&quot; code=&quot;N&quot;/&gt;
    &lt;hl7:setId assigningAuthorityName=&quot;DXC Technology&quot; root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot;/&gt;
    &lt;hl7:versionNumber value=&quot;-525178&quot;/&gt;
    &lt;hl7:recordTarget&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.101&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.101&quot;/&gt;
        &lt;hl7:patientRole classCode=&quot;PAT&quot;&gt;
            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.106&quot;/&gt;
            &lt;hl7:id assigningAuthorityName=&quot;CPR&quot; root=&quot;1.2.208.176.1.2&quot; extension=&quot;1304621201&quot;/&gt;
        &lt;/hl7:patientRole&gt;
    &lt;/hl7:recordTarget&gt;
    &lt;hl7:author typeCode=&quot;AUT&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.102&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.102&quot;/&gt;
        &lt;hl7:time value=&quot;20180814075705+0200&quot;/&gt;
        &lt;hl7:assignedAuthor classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:id nullFlavor=&quot;NI&quot;/&gt;
            &lt;hl7:representedOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;6071000016008&quot;/&gt;
            &lt;/hl7:representedOrganization&gt;
        &lt;/hl7:assignedAuthor&gt;
    &lt;/hl7:author&gt;
    &lt;hl7:custodian typeCode=&quot;CST&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.104&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.103&quot;/&gt;
        &lt;hl7:assignedCustodian classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:representedCustodianOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id root=&quot;2.16.840.1.113883.2.24.1.1&quot; extension=&quot;25469364&quot;/&gt;
            &lt;/hl7:representedCustodianOrganization&gt;
        &lt;/hl7:assignedCustodian&gt;
    &lt;/hl7:custodian&gt;
    &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
        &lt;hl7:structuredBody&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.95&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;EVN&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.80&quot;/&gt;
                            &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;869840DD-892E-512A-8E28-A55C110ED55A&quot;/&gt;
                            &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                            &lt;hl7:effectiveTime&gt;
                                &lt;hl7:low value=&quot;20180814085705+0200&quot;/&gt;
                            &lt;/hl7:effectiveTime&gt;
                            &lt;hl7:participant typeCode=&quot;RESP&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.49&quot;/&gt;
                                &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;RQO&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.51&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                    &lt;hl7:effectiveTime value=&quot;20180814085705+0200&quot;/&gt;
                                    &lt;hl7:participant typeCode=&quot;REF&quot;&gt;
                                        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.52&quot;/&gt;
                                        &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                            &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;486811000016002&quot;/&gt;
                                            &lt;/hl7:scopingEntity&gt;
                                        &lt;/hl7:participantRole&gt;
                                    &lt;/hl7:participant&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.54&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALDA11&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.55&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DD429&quot;/&gt;
                                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.5&quot;/&gt;
                                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ZDW10&quot;/&gt;
                                                &lt;/hl7:act&gt;
                                            &lt;/hl7:entryRelationship&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.53&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALDB00&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.81&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALAL01&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:act&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.113&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot; negationInd=&quot;false&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.36&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.46&quot;/&gt;
                            &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;6463C77D-FA42-5730-B443-F9343875302E&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DA000&quot;/&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:encounter classCode=&quot;ENC&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.77&quot;/&gt;
                                    &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;D26694B2-778E-5F07-8D8B-EA9F28473B93&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                &lt;/hl7:encounter&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.43&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALGA02&quot;/&gt;
                                &lt;/hl7:observation&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:observation&gt;
                    &lt;/hl7:entry&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot; negationInd=&quot;false&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.36&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.45&quot;/&gt;
                            &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;BE844372-DE32-527C-A23D-3E3E7377C865&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DO000&quot;/&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:encounter classCode=&quot;ENC&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.77&quot;/&gt;
                                    &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;D26694B2-778E-5F07-8D8B-EA9F28473B93&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                &lt;/hl7:encounter&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.43&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALGA01&quot;/&gt;
                                &lt;/hl7:observation&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:observation&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.75&quot;/&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:encounter classCode=&quot;ENC&quot; moodCode=&quot;EVN&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.302&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.74&quot;/&gt;
                            &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;D26694B2-778E-5F07-8D8B-EA9F28473B93&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALCA00&quot;/&gt;
                            &lt;hl7:effectiveTime&gt;
                                &lt;hl7:low value=&quot;20180814085705+0200&quot;/&gt;
                            &lt;/hl7:effectiveTime&gt;
                            &lt;hl7:priorityCode codeSystemName=&quot;Sundhedsvæsenets Klassifikations System&quot; codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ATA1&quot;/&gt;
                            &lt;hl7:participant typeCode=&quot;RESP&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.49&quot;/&gt;
                                &lt;hl7:participantRole classCode=&quot;ROL&quot;&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:participant typeCode=&quot;LOC&quot;&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.50&quot;/&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                &lt;hl7:time&gt;
                                    &lt;hl7:low value=&quot;20180814085705+0200&quot;/&gt;
                                &lt;/hl7:time&gt;
                                &lt;hl7:participantRole classCode=&quot;SDLOC&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.22.4&quot;/&gt;
                                    &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                        &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;276231000016004&quot;/&gt;
                                    &lt;/hl7:scopingEntity&gt;
                                &lt;/hl7:participantRole&gt;
                            &lt;/hl7:participant&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;RSON&quot;&gt;
                                &lt;hl7:act classCode=&quot;REG&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.48&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALCC01&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:act classCode=&quot;PCPR&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.72&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;869840DD-892E-512A-8E28-A55C110ED55A&quot;/&gt;
                                    &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:act classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.7&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALFA2&quot;/&gt;
                                    &lt;hl7:effectiveTime&gt;
                                        &lt;hl7:low value=&quot;20180814085705+0200&quot;/&gt;
                                    &lt;/hl7:effectiveTime&gt;
                                    &lt;hl7:participant typeCode=&quot;IND&quot;&gt;
                                        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.321&quot;/&gt;
                                        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.8&quot;/&gt;
                                        &lt;hl7:participantRole classCode=&quot;PAYOR&quot;&gt;
                                            &lt;hl7:scopingEntity classCode=&quot;ORG&quot;&gt;
                                                &lt;hl7:id assigningAuthorityName=&quot;Sundhedsdatastyrelsen&quot; root=&quot;1.2.208.176.2.4&quot; extension=&quot;ALFB01&quot;/&gt;
                                            &lt;/hl7:scopingEntity&gt;
                                        &lt;/hl7:participantRole&gt;
                                    &lt;/hl7:participant&gt;
                                    &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                        &lt;hl7:act classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.10&quot;/&gt;
                                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALFC4&quot;/&gt;
                                        &lt;/hl7:act&gt;
                                    &lt;/hl7:entryRelationship&gt;
                                &lt;/hl7:act&gt;
                            &lt;/hl7:entryRelationship&gt;
                        &lt;/hl7:encounter&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
        &lt;/hl7:structuredBody&gt;
    &lt;/hl7:component&gt;
&lt;/hl7:ClinicalDocument&gt;
</code></pre>

<p>Nullify the main condition and replace the minor condition with the new data using the main condition template</p>
<pre><code class="xml">&lt;hl7:ClinicalDocument xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
    xmlns:hl7=&quot;urn:hl7-org:v3&quot; xsi:schemaLocation=&quot;urn:hl7-org:v3 https://raw.githubusercontent.com/cdaapi/cdaapi_core/master/reference/CDA.xsd&quot;&gt;
    &lt;hl7:realmCode code=&quot;DK&quot;/&gt;
    &lt;hl7:typeId root=&quot;2.16.840.1.113883.1.3&quot; extension=&quot;POCD_HD000040&quot;/&gt;
    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.71&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.2&quot;/&gt;
    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.1&quot;/&gt;
    &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;96E4EE31-AA9A-4DC8-98AA-FCBD54C3D556&quot;/&gt;
    &lt;hl7:code codeSystem=&quot;2.16.840.1.113883.6.1&quot; code=&quot;34133-9&quot;/&gt;
    &lt;hl7:effectiveTime value=&quot;20180814085705+0200&quot;/&gt;
    &lt;hl7:confidentialityCode codeSystem=&quot;2.16.840.1.113883.5.25&quot; code=&quot;N&quot;/&gt;
    &lt;hl7:setId assigningAuthorityName=&quot;DXC Technology&quot; root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot;/&gt;
    &lt;hl7:versionNumber value=&quot;291219&quot;/&gt;
    &lt;hl7:recordTarget&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.101&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.101&quot;/&gt;
        &lt;hl7:patientRole classCode=&quot;PAT&quot;&gt;
            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.106&quot;/&gt;
            &lt;hl7:id assigningAuthorityName=&quot;CPR&quot; root=&quot;1.2.208.176.1.2&quot; extension=&quot;1304621201&quot;/&gt;
        &lt;/hl7:patientRole&gt;
    &lt;/hl7:recordTarget&gt;
    &lt;hl7:author typeCode=&quot;AUT&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.102&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.102&quot;/&gt;
        &lt;hl7:time value=&quot;20180814075705+0200&quot;/&gt;
        &lt;hl7:assignedAuthor classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:id nullFlavor=&quot;NI&quot;/&gt;
            &lt;hl7:representedOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id assigningAuthorityName=&quot;SOR&quot; root=&quot;1.2.208.176.1.1&quot; extension=&quot;6071000016008&quot;/&gt;
            &lt;/hl7:representedOrganization&gt;
        &lt;/hl7:assignedAuthor&gt;
    &lt;/hl7:author&gt;
    &lt;hl7:custodian typeCode=&quot;CST&quot;&gt;
        &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.104&quot;/&gt;
        &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.103&quot;/&gt;
        &lt;hl7:assignedCustodian classCode=&quot;ASSIGNED&quot;&gt;
            &lt;hl7:representedCustodianOrganization classCode=&quot;ORG&quot; determinerCode=&quot;INSTANCE&quot;&gt;
                &lt;hl7:id root=&quot;2.16.840.1.113883.2.24.1.1&quot; extension=&quot;25469364&quot;/&gt;
            &lt;/hl7:representedCustodianOrganization&gt;
        &lt;/hl7:assignedCustodian&gt;
    &lt;/hl7:custodian&gt;
    &lt;hl7:relatedDocument typeCode=&quot;APND&quot;&gt;
        &lt;hl7:parentDocument classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot;&gt;
            &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;6A3D9FF8-AEFF-4497-90A3-C2B3BC06F08B&quot;/&gt;
            &lt;hl7:setId root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot;/&gt;
            &lt;hl7:versionNumber value=&quot;-525178&quot;/&gt;
        &lt;/hl7:parentDocument&gt;
    &lt;/hl7:relatedDocument&gt;
    &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
        &lt;hl7:structuredBody&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.113&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot; negationInd=&quot;false&quot;&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.36&quot;/&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.45&quot;/&gt;
                            &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;6463C77D-FA42-5730-B443-F9343875302E&quot;/&gt;
                            &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;DO000&quot;/&gt;
                            &lt;hl7:entryRelationship typeCode=&quot;COMP&quot;&gt;
                                &lt;hl7:observation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.303&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.43&quot;/&gt;
                                    &lt;hl7:code codeSystem=&quot;1.2.208.176.2.4&quot; code=&quot;ALGA01&quot;/&gt;
                                &lt;/hl7:observation&gt;
                            &lt;/hl7:entryRelationship&gt;
                            &lt;hl7:reference typeCode=&quot;REFR&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.324&quot;/&gt;
                                &lt;hl7:externalAct classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.325&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.78&quot;/&gt;
                                    &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;D26694B2-778E-5F07-8D8B-EA9F28473B93&quot;/&gt;
                                &lt;/hl7:externalAct&gt;
                            &lt;/hl7:reference&gt;
                            &lt;hl7:reference typeCode=&quot;RPLC&quot;&gt;
                                &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.324&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.125&quot;/&gt;
                                &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.117&quot;/&gt;
                                &lt;hl7:externalObservation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;6463C77D-FA42-5730-B443-F9343875302E&quot;/&gt;
                                &lt;/hl7:externalObservation&gt;
                            &lt;/hl7:reference&gt;
                        &lt;/hl7:observation&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
            &lt;hl7:component contextConductionInd=&quot;true&quot;&gt;
                &lt;hl7:section&gt;
                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.201&quot;/&gt;
                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.116&quot;/&gt;
                    &lt;hl7:entry typeCode=&quot;COMP&quot;&gt;
                        &lt;hl7:act classCode=&quot;ACT&quot; moodCode=&quot;EVN&quot;&gt;
                            &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.118&quot;/&gt;
                            &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.301&quot;/&gt;
                            &lt;hl7:code nullFlavor=&quot;NA&quot;/&gt;
                            &lt;hl7:statusCode code=&quot;nullified&quot;/&gt;
                            &lt;hl7:reference typeCode=&quot;RPLC&quot;&gt;
                                &lt;hl7:externalObservation classCode=&quot;OBS&quot; moodCode=&quot;EVN&quot;&gt;
                                    &lt;hl7:templateId root=&quot;2.16.840.1.113883.10.12.326&quot;/&gt;
                                    &lt;hl7:templateId root=&quot;1.2.208.176.7.1.10.100&quot;/&gt;
                                    &lt;hl7:id root=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB&quot; extension=&quot;BE844372-DE32-527C-A23D-3E3E7377C865&quot;/&gt;
                                &lt;/hl7:externalObservation&gt;
                            &lt;/hl7:reference&gt;
                        &lt;/hl7:act&gt;
                    &lt;/hl7:entry&gt;
                &lt;/hl7:section&gt;
            &lt;/hl7:component&gt;
        &lt;/hl7:structuredBody&gt;
    &lt;/hl7:component&gt;
&lt;/hl7:ClinicalDocument&gt;
</code></pre>

<p>If you do not nullify the main condition you will receice an integrity check error</p>
<pre><code class="xml">&lt;RegistryError
    codeContext=&quot;INTEGRITY_CHECK|||Existing MinorConditionObservation 6463C77D-FA42-5730-B443-F9343875302E cannot be elevated to a MainConditionObservation as its Encounter already has a MainConditonObservation|||CANNOT_REPLACE_MINOR_WITH_MAIN_CONDITION|||6463C77D-FA42-5730-B443-F9343875302E&quot;
    errorCode=&quot;InvalidDocumentContent&quot;
    location=&quot;6A3B9FE3-DCA2-4E88-9973-AAA084DBD1EB^96E4EE31-AA9A-4DC8-98AA-FCBD54C3D556|||//*[local-name()='observation' and @classCode='OBS' and @moodCode='EVN'][child::*[local-name()='id' and @extension='6463C77D-FA42-5730-B443-F9343875302E']][child::*[local-name()='templateId' and @root='1.2.208.176.7.1.10.36']][child::*[local-name()='templateId' and @root='2.16.840.1.113883.10.12.303']]&quot;
    severity=&quot;urn:oasis:names:tc:ebxml-regrep:ErrorSeverityType:Error&quot;/&gt;
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../interface/xdr/index.html" class="btn btn-neutral float-right" title="XDR">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../aspects/index.html" class="btn btn-neutral" title="Interface aspects and usage"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/scandihealth/lpr3-docs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../aspects/index.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../interface/xdr/index.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>

</body>
</html>
